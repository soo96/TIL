# 서버 구조 변화와 Servlet 사용 방식의 변화

## 1. 서론 — 왜 “서블릿 하나만 쓴다”는 말이 나오게 되었을까?

Spring Boot 기반 서비스를 이야기하다 보면
“요즘은 서버당 서블릿을 하나만 둔다”, “DispatcherServlet 하나로 다 처리한다”는 말을 종종 듣는다.

이 말은 완전히 틀린 말은 아니지만, 정확히 이해하려면 서버 인프라 구조의 변화와 웹 애플리케이션 구조의 변화를 함께 봐야 한다.

## 2. 과거: 서버 공유 기반 구조 (온프레미스 / 모놀리식)

### 2.1 인프라 환경

과거에는:

- 물리 서버가 비싸고 추가가 어려웠다.
- 서버 한 대에 여러 비즈니스 서비스를 같이 올리는 구조가 일반적이었다.
- Tomcat 한 인스턴스에 여러 WAR(Web Application Archive)를 배포했다.

```
[물리 서버 1대]
└ Tomcat
├ 서비스 A (WAR)
├ 서비스 B (WAR)
└ 서비스 C (WAR)
```

### 2.2 서블릿의 역할

이 시기에는:

- 서블릿이 곧 비즈니스 단위였다.
- URL 매핑을 통해 서로 다른 서블릿으로 요청을 분기했다.
- 하나의 서버 안에 많은 서블릿이 공존했다.

즉, 서블릿이 비즈니스 분리의 기본 단위였다.

## 3. 현재: 서비스 격리 기반 구조 (클라우드 / 컨테이너 / 마이크로서비스)

### 3.1 인프라 변화

현재는:

- 클라우드 환경에서 서버를 쉽게 생성/삭제할 수 있다.
- 컨테이너(Docker, Kubernetes) 기반으로 서비스 단위 배포가 가능하다.
- 하나의 서비스 = 하나의 애플리케이션 = 하나의 서버(또는 컨테이너) 구조가 일반적이다.

```
서비스 A → Spring Boot App → Tomcat → DispatcherServlet
서비스 B → Spring Boot App → Tomcat → DispatcherServlet
서비스 C → Spring Boot App → Tomcat → DispatcherServlet
```

### 3.2 서블릿의 역할 변화

이제 서블릿은 비즈니스 분리 수단이 아니라 프레임워크 진입점(entry point) 역할만 담당한다.

비즈니스 분리는 Controller, Service, Domain, 모듈 구조 등에서 이루어진다.

즉, 서블릿은 더 이상 “비즈니스 단위”가 아니라 “프레임워크 단위”가 되었다.

## 4. 그래서 “서블릿 하나만 쓴다”는 말의 정확한 의미

이 말의 진짜 의미는 다음과 같다.

“하나의 애플리케이션 안에서 비즈니스를 나누기 위해 여러 서블릿을 둘 필요가 없어졌고, 프레임워크 진입점 역할을 하는 DispatcherServlet 하나만 두는 구조가 일반적이다.”

즉 컨테이너에는 여러 서블릿이 있을 수 있지만 애플리케이션이 직접 사용하는 서블릿은 보통 하나다.

## 5. 변화 요약

- 구분 과거 현재
- 서버 구조 서버 공유 서비스 격리
- 배포 단위 WAR 다수 App 단위
- 서블릿 역할 비즈니스 분리 진입점
- 서블릿 개수 많음 보통 1개

## 6. 결론

과거에는 서버 자원이 제한되어 있었기 때문에 하나의 서버에서 여러 비즈니스를 나누어 운영해야 했고, 이를 위해 여러 서블릿을 사용했다.

현재는 클라우드와 컨테이너 환경을 통해 서비스 단위로 애플리케이션을 분리할 수 있게 되었고, 그 결과 하나의 애플리케이션은 DispatcherServlet 하나를 중심으로 동작하는 구조가 일반적이 되었다.

즉, “서블릿 하나만 쓴다”는 말은 기술적 제한이 아니라, 인프라와 아키텍처 패러다임이 바뀌면서 자연스럽게 형성된 구조적 결과이다.
